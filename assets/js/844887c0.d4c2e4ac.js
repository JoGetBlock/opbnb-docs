"use strict";(self.webpackChunkopbnb_docs=self.webpackChunkopbnb_docs||[]).push([[8951],{3905:(t,e,n)=>{n.d(e,{Zo:()=>l,kt:()=>m});var a=n(67294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var p=a.createContext({}),h=function(t){var e=a.useContext(p),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},l=function(t){var e=h(t.components);return a.createElement(p.Provider,{value:e},t.children)},c="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},u=a.forwardRef((function(t,e){var n=t.components,o=t.mdxType,r=t.originalType,p=t.parentName,l=s(t,["components","mdxType","originalType","parentName"]),c=h(n),u=o,m=c["".concat(p,".").concat(u)]||c[u]||d[u]||r;return n?a.createElement(m,i(i({ref:e},l),{},{components:n})):a.createElement(m,i({ref:e},l))}));function m(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var r=n.length,i=new Array(r);i[0]=u;var s={};for(var p in e)hasOwnProperty.call(e,p)&&(s[p]=e[p]);s.originalType=t,s[c]="string"==typeof t?t:o,i[1]=s;for(var h=2;h<r;h++)i[h]=n[h];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},65649:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>p,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>h});var a=n(87462),o=(n(67294),n(3905));const r={sidebar_label:"Run Node With Snapshot",description:"Guide to running opBNB Node with snapshot"},i="Running the Node with Snapshot",s={unversionedId:"tutorials/running-node-with-snapshot",id:"tutorials/running-node-with-snapshot",title:"Running the Node with Snapshot",description:"Guide to running opBNB Node with snapshot",source:"@site/docs/tutorials/running-node-with-snapshot.md",sourceDirName:"tutorials",slug:"/tutorials/running-node-with-snapshot",permalink:"/opbnb-docs/docs/tutorials/running-node-with-snapshot",draft:!1,editUrl:"https://github.com/bnb-chain/opbnb-docs/blob/main/docs/tutorials/running-node-with-snapshot.md",tags:[],version:"current",frontMatter:{sidebar_label:"Run Node With Snapshot",description:"Guide to running opBNB Node with snapshot"},sidebar:"tutorials",previous:{title:"Verify Smart Contracts with Hardhat and Truffle",permalink:"/opbnb-docs/docs/tutorials/opbnbscan-verify-hardhat-truffle"}},p={},h=[{value:"usage",id:"usage",level:2},{value:"Step 1: Download the snapshot and decompress it.",id:"step-1-download-the-snapshot-and-decompress-it",level:3},{value:"Step 2: Replace the data.",id:"step-2-replace-the-data",level:3}],l={toc:h};function c(t){let{components:e,...n}=t;return(0,o.kt)("wrapper",(0,a.Z)({},l,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"running-the-node-with-snapshot"},"Running the Node with Snapshot"),(0,o.kt)("p",null,"To improve the synchronization speed of the node, you can utilize snapshots to initialize it. "),(0,o.kt)("p",null,"An example of the snapshot's URL is as follows:\nhttps://opbnb-snapshot-{{NETWORK}}.bnbchain.org/geth-yyyymmdd.tar.gz"),(0,o.kt)("p",null,"Modify the domain and date to obtain the desired snapshot. For example, if you want to download the snaptshot of September 1st of 2023 for mainnet, you need use the URL of ",(0,o.kt)("a",{parentName:"p",href:"https://opbnb-snapshot-mainnet.bnbchain.org/geth-20230901.tar.gz"},"https://opbnb-snapshot-mainnet.bnbchain.org/geth-20230901.tar.gz"),"."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Snapshots are generated and retained on a daily basis, with each snapshot being stored for a duration of 7 days.")),(0,o.kt)("h2",{id:"usage"},"usage"),(0,o.kt)("h3",{id:"step-1-download-the-snapshot-and-decompress-it"},"Step 1: Download the snapshot and decompress it."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"wget -q -O - https://opbnb-snapshot-testnet.bnbchain.org/geth-20230723.tar.gz | tar -xvf -\n")),(0,o.kt)("h3",{id:"step-2-replace-the-data"},"Step 2: Replace the data."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Stop the running ",(0,o.kt)("inlineCode",{parentName:"li"},"op-geth")," client, ensuring that it has completely shut down."),(0,o.kt)("li",{parentName:"ol"},"To back up the original data, execute the following commands:",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"mv ${OPGeth_DataDir}/geth/chaindata ${OPGeth_DataDir}/geth/chaindata_backup\nmv ${OPGeth_DataDir}/geth/triecache ${OPGeth_DataDir}/geth/triecache_backup\n"))),(0,o.kt)("li",{parentName:"ol"},"Replace the data with the snapshot by running:",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"mv ./geth/chaindata ${OPGeth_DataDir}/geth/chaindata\nmv ./geth/triecache ${OPGeth_DataDir}/geth/triecache\n"))),(0,o.kt)("li",{parentName:"ol"},"Restart the ",(0,o.kt)("inlineCode",{parentName:"li"},"op-geth")," client and verify the logs.")))}c.isMDXComponent=!0}}]);